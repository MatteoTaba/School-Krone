{"id":"../node_modules/libp2p-kad-dht/src/rpc/index.js","dependencies":[{"name":"C:\\Users\\matte\\Documents\\SKR\\package.json","includedInParent":true,"mtime":1638722727563},{"name":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\package.json","includedInParent":true,"mtime":1638722717178},{"name":"it-pipe","loc":{"line":3,"column":25},"parent":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\rpc\\index.js","resolved":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\it-pipe\\index.js"},{"name":"it-length-prefixed","loc":{"line":4,"column":19},"parent":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\rpc\\index.js","resolved":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\it-length-prefixed\\src\\index.js"},{"name":"../message","loc":{"line":6,"column":24},"parent":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\rpc\\index.js","resolved":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\message\\index.js"},{"name":"./handlers","loc":{"line":7,"column":25},"parent":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\rpc\\index.js","resolved":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\rpc\\handlers\\index.js"},{"name":"../utils","loc":{"line":8,"column":22},"parent":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\rpc\\index.js","resolved":"C:\\Users\\matte\\Documents\\SKR\\node_modules\\libp2p-kad-dht\\src\\utils.js"}],"generated":{"js":"'use strict';\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _awaitAsyncGenerator(value) { return new _AwaitValue(value); }\n\nfunction _wrapAsyncGenerator(fn) { return function () { return new _AsyncGenerator(fn.apply(this, arguments)); }; }\n\nfunction _AsyncGenerator(gen) { var front, back; function send(key, arg) { return new Promise(function (resolve, reject) { var request = { key: key, arg: arg, resolve: resolve, reject: reject, next: null }; if (back) { back = back.next = request; } else { front = back = request; resume(key, arg); } }); } function resume(key, arg) { try { var result = gen[key](arg); var value = result.value; var wrappedAwait = value instanceof _AwaitValue; Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) { if (wrappedAwait) { resume(key === \"return\" ? \"return\" : \"next\", arg); return; } settle(result.done ? \"return\" : \"normal\", arg); }, function (err) { resume(\"throw\", err); }); } catch (err) { settle(\"throw\", err); } } function settle(type, value) { switch (type) { case \"return\": front.resolve({ value: value, done: true }); break; case \"throw\": front.reject(value); break; default: front.resolve({ value: value, done: false }); break; } front = front.next; if (front) { resume(front.key, front.arg); } else { back = null; } } this._invoke = send; if (typeof gen.return !== \"function\") { this.return = undefined; } }\n\n_AsyncGenerator.prototype[typeof Symbol === \"function\" && Symbol.asyncIterator || \"@@asyncIterator\"] = function () { return this; };\n\n_AsyncGenerator.prototype.next = function (arg) { return this._invoke(\"next\", arg); };\n\n_AsyncGenerator.prototype.throw = function (arg) { return this._invoke(\"throw\", arg); };\n\n_AsyncGenerator.prototype.return = function (arg) { return this._invoke(\"return\", arg); };\n\nfunction _AwaitValue(value) { this.wrapped = value; }\n\nfunction _asyncIterator(iterable) { var method, async, sync, retry = 2; if (typeof Symbol !== \"undefined\") { async = Symbol.asyncIterator; sync = Symbol.iterator; } while (retry--) { if (async && (method = iterable[async]) != null) { return method.call(iterable); } if (sync && (method = iterable[sync]) != null) { return new AsyncFromSyncIterator(method.call(iterable)); } async = \"@@asyncIterator\"; sync = \"@@iterator\"; } throw new TypeError(\"Object is not async iterable\"); }\n\nfunction AsyncFromSyncIterator(s) { AsyncFromSyncIterator = function AsyncFromSyncIterator(s) { this.s = s; this.n = s.next; }; AsyncFromSyncIterator.prototype = { s: null, n: null, next: function next() { return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments)); }, return: function _return(value) { var ret = this.s.return; if (ret === undefined) { return Promise.resolve({ value: value, done: true }); } return AsyncFromSyncIteratorContinuation(ret.apply(this.s, arguments)); }, throw: function _throw(value) { var thr = this.s.return; if (thr === undefined) return Promise.reject(value); return AsyncFromSyncIteratorContinuation(thr.apply(this.s, arguments)); } }; function AsyncFromSyncIteratorContinuation(r) { if (Object(r) !== r) { return Promise.reject(new TypeError(r + \" is not an object.\")); } var done = r.done; return Promise.resolve(r.value).then(function (value) { return { value: value, done: done }; }); } return new AsyncFromSyncIterator(s); }\n\nvar _require = require('it-pipe'),\n    pipe = _require.pipe;\n\nvar lp = require('it-length-prefixed');\n\nvar Message = require('../message');\n\nvar handlers = require('./handlers');\n\nvar utils = require('../utils');\n/**\n * @typedef {import('peer-id')} PeerId\n * @typedef {import('libp2p-interfaces/src/stream-muxer/types').MuxedStream} MuxedStream\n */\n\n/**\n * @param {import('../index')} dht\n */\n\n\nmodule.exports = function (dht) {\n  var log = utils.logger(dht.peerId, 'rpc');\n  var getMessageHandler = handlers(dht);\n  /**\n   * Process incoming DHT messages.\n   *\n   * @param {PeerId} peerId\n   * @param {Message} msg\n   */\n\n  function handleMessage(_x, _x2) {\n    return _handleMessage.apply(this, arguments);\n  }\n  /**\n   * Handle incoming streams on the dht protocol\n   *\n   * @param {object} props\n   * @param {MuxedStream} props.stream\n   * @param {import('libp2p-interfaces/src/connection').Connection} props.connection\n   */\n\n\n  function _handleMessage() {\n    _handleMessage = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(peerId, msg) {\n      var handler;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // get handler & execute it\n              handler = getMessageHandler(msg.type);\n              _context.prev = 1;\n              _context.next = 4;\n              return dht._add(peerId);\n\n            case 4:\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              log.error('Failed to update the kbucket store', _context.t0);\n\n            case 9:\n              if (handler) {\n                _context.next = 12;\n                break;\n              }\n\n              log.error(\"no handler found for message type: \".concat(msg.type));\n              return _context.abrupt(\"return\");\n\n            case 12:\n              return _context.abrupt(\"return\", handler(peerId, msg));\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 6]]);\n    }));\n    return _handleMessage.apply(this, arguments);\n  }\n\n  function onIncomingStream(_x3) {\n    return _onIncomingStream.apply(this, arguments);\n  }\n\n  function _onIncomingStream() {\n    _onIncomingStream = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref2) {\n      var stream, connection, peerId, idB58Str;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              stream = _ref2.stream, connection = _ref2.connection;\n              peerId = connection.remotePeer;\n              _context3.prev = 2;\n              _context3.next = 5;\n              return dht._add(peerId);\n\n            case 5:\n              _context3.next = 10;\n              break;\n\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](2);\n              log.error(_context3.t0);\n\n            case 10:\n              idB58Str = peerId.toB58String();\n              log('from: %s', idB58Str);\n              _context3.next = 14;\n              return pipe(stream.source, lp.decode(),\n              /**\n               * @param {AsyncIterable<Uint8Array>} source\n               */\n              function (source) {\n                return _wrapAsyncGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                  var _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, msg, desMessage, res;\n\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _iteratorAbruptCompletion = false;\n                          _didIteratorError = false;\n                          _context2.prev = 2;\n                          _iterator = _asyncIterator(source);\n\n                        case 4:\n                          _context2.next = 6;\n                          return _awaitAsyncGenerator(_iterator.next());\n\n                        case 6:\n                          if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {\n                            _context2.next = 18;\n                            break;\n                          }\n\n                          msg = _step.value;\n                          // handle the message\n                          desMessage = Message.deserialize(msg.slice());\n                          _context2.next = 11;\n                          return _awaitAsyncGenerator(handleMessage(peerId, desMessage));\n\n                        case 11:\n                          res = _context2.sent;\n\n                          if (!res) {\n                            _context2.next = 15;\n                            break;\n                          }\n\n                          _context2.next = 15;\n                          return res.serialize();\n\n                        case 15:\n                          _iteratorAbruptCompletion = false;\n                          _context2.next = 4;\n                          break;\n\n                        case 18:\n                          _context2.next = 24;\n                          break;\n\n                        case 20:\n                          _context2.prev = 20;\n                          _context2.t0 = _context2[\"catch\"](2);\n                          _didIteratorError = true;\n                          _iteratorError = _context2.t0;\n\n                        case 24:\n                          _context2.prev = 24;\n                          _context2.prev = 25;\n\n                          if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                            _context2.next = 29;\n                            break;\n                          }\n\n                          _context2.next = 29;\n                          return _awaitAsyncGenerator(_iterator.return());\n\n                        case 29:\n                          _context2.prev = 29;\n\n                          if (!_didIteratorError) {\n                            _context2.next = 32;\n                            break;\n                          }\n\n                          throw _iteratorError;\n\n                        case 32:\n                          return _context2.finish(29);\n\n                        case 33:\n                          return _context2.finish(24);\n\n                        case 34:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, null, [[2, 20, 24, 34], [25,, 29, 33]]);\n                }))();\n              }, lp.encode(), stream.sink);\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 7]]);\n    }));\n    return _onIncomingStream.apply(this, arguments);\n  }\n\n  return onIncomingStream;\n};"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":1,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":1,"column":0}},{"generated":{"line":27,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":0}},{"name":"require","generated":{"line":27,"column":15},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":17}},{"generated":{"line":27,"column":22},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":24}},{"generated":{"line":27,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":25}},{"generated":{"line":27,"column":32},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":24}},{"generated":{"line":27,"column":33},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":0}},{"generated":{"line":28,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":0}},{"name":"pipe","generated":{"line":28,"column":4},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":8}},{"generated":{"line":28,"column":8},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":0}},{"name":"pipe","generated":{"line":28,"column":20},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":8}},{"generated":{"line":28,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":3,"column":0}},{"generated":{"line":30,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":0}},{"name":"lp","generated":{"line":30,"column":4},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":6}},{"generated":{"line":30,"column":6},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":8}},{"name":"require","generated":{"line":30,"column":9},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":11}},{"generated":{"line":30,"column":16},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":18}},{"generated":{"line":30,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":19}},{"generated":{"line":30,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":18}},{"generated":{"line":30,"column":38},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":4,"column":0}},{"generated":{"line":32,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":0}},{"name":"Message","generated":{"line":32,"column":4},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":6}},{"generated":{"line":32,"column":11},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":13}},{"name":"require","generated":{"line":32,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":16}},{"generated":{"line":32,"column":21},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":23}},{"generated":{"line":32,"column":22},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":24}},{"generated":{"line":32,"column":34},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":23}},{"generated":{"line":32,"column":35},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":6,"column":0}},{"generated":{"line":34,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":0}},{"name":"handlers","generated":{"line":34,"column":4},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":6}},{"generated":{"line":34,"column":12},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":14}},{"name":"require","generated":{"line":34,"column":15},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":17}},{"generated":{"line":34,"column":22},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":24}},{"generated":{"line":34,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":25}},{"generated":{"line":34,"column":35},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":24}},{"generated":{"line":34,"column":36},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":7,"column":0}},{"generated":{"line":36,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":0}},{"name":"utils","generated":{"line":36,"column":4},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":6}},{"generated":{"line":36,"column":9},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":11}},{"name":"require","generated":{"line":36,"column":12},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":14}},{"generated":{"line":36,"column":19},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":21}},{"generated":{"line":36,"column":20},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":22}},{"generated":{"line":36,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":21}},{"generated":{"line":36,"column":31},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":8,"column":0}},{"generated":{"line":37,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":10,"column":0}},{"generated":{"line":38,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":11,"column":0}},{"generated":{"line":39,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":12,"column":0}},{"generated":{"line":40,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":13,"column":0}},{"generated":{"line":42,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":15,"column":0}},{"generated":{"line":43,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":16,"column":0}},{"generated":{"line":44,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":17,"column":0}},{"name":"module","generated":{"line":47,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":0}},{"generated":{"line":47,"column":6},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":6}},{"name":"exports","generated":{"line":47,"column":7},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":7}},{"generated":{"line":47,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":0}},{"generated":{"line":47,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":17}},{"name":"dht","generated":{"line":47,"column":27},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":18}},{"generated":{"line":47,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":17}},{"generated":{"line":47,"column":32},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":48,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":2}},{"name":"log","generated":{"line":48,"column":6},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":8}},{"generated":{"line":48,"column":9},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":11}},{"name":"utils","generated":{"line":48,"column":12},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":14}},{"generated":{"line":48,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":19}},{"name":"logger","generated":{"line":48,"column":18},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":20}},{"generated":{"line":48,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":14}},{"name":"dht","generated":{"line":48,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":27}},{"generated":{"line":48,"column":28},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":30}},{"name":"peerId","generated":{"line":48,"column":29},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":31}},{"generated":{"line":48,"column":35},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":14}},{"generated":{"line":48,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":39}},{"generated":{"line":48,"column":42},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":14}},{"generated":{"line":48,"column":43},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":19,"column":2}},{"generated":{"line":49,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":2}},{"name":"getMessageHandler","generated":{"line":49,"column":6},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":8}},{"generated":{"line":49,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":25}},{"name":"handlers","generated":{"line":49,"column":26},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":28}},{"generated":{"line":49,"column":34},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":36}},{"name":"dht","generated":{"line":49,"column":35},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":37}},{"generated":{"line":49,"column":38},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":36}},{"generated":{"line":49,"column":39},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":20,"column":2}},{"generated":{"line":50,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":22,"column":2}},{"generated":{"line":51,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":23,"column":0}},{"generated":{"line":52,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":24,"column":0}},{"generated":{"line":53,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":25,"column":0}},{"generated":{"line":54,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":26,"column":0}},{"generated":{"line":55,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":27,"column":0}},{"generated":{"line":57,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"name":"handleMessage","generated":{"line":57,"column":11},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":17}},{"generated":{"line":57,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":58,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":59,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":60,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":46,"column":2}},{"generated":{"line":61,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":47,"column":0}},{"generated":{"line":62,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":48,"column":0}},{"generated":{"line":63,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":49,"column":0}},{"generated":{"line":64,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":50,"column":0}},{"generated":{"line":65,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":51,"column":0}},{"generated":{"line":66,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":52,"column":0}},{"generated":{"line":69,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":70,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":70,"column":77},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"peerId","generated":{"line":70,"column":94},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":32}},{"generated":{"line":70,"column":100},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"msg","generated":{"line":70,"column":102},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":40}},{"generated":{"line":70,"column":105},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":71,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":72,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":73,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":74,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":75,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":76,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":29,"column":4}},{"name":"handler","generated":{"line":77,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":10}},{"name":"handler","generated":{"line":77,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":10}},{"generated":{"line":77,"column":21},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"getMessageHandler","generated":{"line":77,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":20}},{"generated":{"line":77,"column":41},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":37}},{"name":"msg","generated":{"line":77,"column":42},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":38}},{"generated":{"line":77,"column":45},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":41}},{"name":"type","generated":{"line":77,"column":46},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":42}},{"generated":{"line":77,"column":50},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":30,"column":37}},{"generated":{"line":77,"column":51},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":78,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":79,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":80,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"dht","generated":{"line":80,"column":21},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":33,"column":12}},{"generated":{"line":80,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":33,"column":15}},{"name":"_add","generated":{"line":80,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":33,"column":16}},{"generated":{"line":80,"column":29},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":33,"column":12}},{"name":"peerId","generated":{"line":80,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":33,"column":21}},{"generated":{"line":80,"column":36},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":33,"column":12}},{"generated":{"line":80,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":82,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":83,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":84,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":86,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":87,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":88,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"log","generated":{"line":89,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":6}},{"name":"log","generated":{"line":89,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":6}},{"generated":{"line":89,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":9}},{"name":"error","generated":{"line":89,"column":18},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":10}},{"generated":{"line":89,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":6}},{"generated":{"line":89,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":16}},{"generated":{"line":89,"column":60},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":35,"column":6}},{"generated":{"line":91,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":92,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"handler","generated":{"line":92,"column":18},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":38,"column":9}},{"generated":{"line":92,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":93,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":94,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":95,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"log","generated":{"line":97,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":6}},{"name":"log","generated":{"line":97,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":6}},{"generated":{"line":97,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":9}},{"name":"error","generated":{"line":97,"column":18},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":10}},{"generated":{"line":97,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":6}},{"name":"msg","generated":{"line":97,"column":69},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":54}},{"generated":{"line":97,"column":72},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":57}},{"name":"type","generated":{"line":97,"column":73},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":58}},{"generated":{"line":97,"column":77},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":39,"column":6}},{"generated":{"line":98,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":100,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":101,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"name":"handler","generated":{"line":101,"column":47},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":43,"column":11}},{"generated":{"line":101,"column":54},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":43,"column":18}},{"name":"peerId","generated":{"line":101,"column":55},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":43,"column":19}},{"generated":{"line":101,"column":61},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":43,"column":18}},{"name":"msg","generated":{"line":101,"column":63},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":43,"column":27}},{"generated":{"line":101,"column":66},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":43,"column":18}},{"generated":{"line":101,"column":67},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":103,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":104,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":105,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":106,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":107,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":108,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":109,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":28,"column":2}},{"generated":{"line":109,"column":5},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":110,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":111,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":113,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"name":"onIncomingStream","generated":{"line":113,"column":11},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":17}},{"generated":{"line":113,"column":27},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":114,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":115,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":117,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":118,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":118,"column":80},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":119,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":120,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":121,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":122,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":123,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"stream","generated":{"line":124,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":37}},{"name":"stream","generated":{"line":124,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":37}},{"generated":{"line":124,"column":20},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"stream","generated":{"line":124,"column":29},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":37}},{"generated":{"line":124,"column":35},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"connection","generated":{"line":124,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":45}},{"generated":{"line":124,"column":47},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"connection","generated":{"line":124,"column":56},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":45}},{"generated":{"line":124,"column":66},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"peerId","generated":{"line":125,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":54,"column":10}},{"name":"peerId","generated":{"line":125,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":54,"column":10}},{"generated":{"line":125,"column":20},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"connection","generated":{"line":125,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":54,"column":19}},{"generated":{"line":125,"column":33},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":54,"column":29}},{"name":"remotePeer","generated":{"line":125,"column":34},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":54,"column":30}},{"generated":{"line":125,"column":44},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":126,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":127,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":128,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"dht","generated":{"line":128,"column":21},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":57,"column":12}},{"generated":{"line":128,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":57,"column":15}},{"name":"_add","generated":{"line":128,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":57,"column":16}},{"generated":{"line":128,"column":29},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":57,"column":12}},{"name":"peerId","generated":{"line":128,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":57,"column":21}},{"generated":{"line":128,"column":36},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":57,"column":12}},{"generated":{"line":128,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":130,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":131,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":132,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":134,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":135,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":136,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"log","generated":{"line":137,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":59,"column":6}},{"name":"log","generated":{"line":137,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":59,"column":6}},{"generated":{"line":137,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":59,"column":9}},{"name":"error","generated":{"line":137,"column":18},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":59,"column":10}},{"generated":{"line":137,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":59,"column":6}},{"generated":{"line":139,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"idB58Str","generated":{"line":140,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":62,"column":10}},{"name":"idB58Str","generated":{"line":140,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":62,"column":10}},{"generated":{"line":140,"column":22},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"peerId","generated":{"line":140,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":62,"column":21}},{"generated":{"line":140,"column":31},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":62,"column":27}},{"name":"toB58String","generated":{"line":140,"column":32},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":62,"column":28}},{"generated":{"line":140,"column":43},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":62,"column":21}},{"generated":{"line":140,"column":45},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"log","generated":{"line":141,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":4}},{"name":"log","generated":{"line":141,"column":14},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":4}},{"generated":{"line":141,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":7}},{"generated":{"line":141,"column":18},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":8}},{"generated":{"line":141,"column":28},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":7}},{"name":"idB58Str","generated":{"line":141,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":20}},{"generated":{"line":141,"column":38},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":7}},{"generated":{"line":141,"column":39},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":63,"column":4}},{"generated":{"line":142,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":143,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"name":"pipe","generated":{"line":143,"column":21},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":10}},{"generated":{"line":143,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":14}},{"name":"stream","generated":{"line":143,"column":26},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":66,"column":6}},{"generated":{"line":143,"column":32},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":66,"column":12}},{"name":"source","generated":{"line":143,"column":33},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":66,"column":13}},{"generated":{"line":143,"column":39},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":14}},{"name":"lp","generated":{"line":143,"column":41},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":67,"column":6}},{"generated":{"line":143,"column":43},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":67,"column":8}},{"name":"decode","generated":{"line":143,"column":44},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":67,"column":9}},{"generated":{"line":143,"column":50},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":67,"column":6}},{"generated":{"line":143,"column":52},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":14}},{"generated":{"line":144,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":68,"column":6}},{"generated":{"line":145,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":69,"column":0}},{"generated":{"line":146,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":70,"column":0}},{"generated":{"line":147,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":6}},{"name":"source","generated":{"line":147,"column":24},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":6}},{"generated":{"line":147,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":12}},{"generated":{"line":148,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":12}},{"generated":{"line":148,"column":23},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":16}},{"generated":{"line":148,"column":81},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":149,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":151,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":152,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":153,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":154,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":155,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":156,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":157,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":158,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"name":"source","generated":{"line":158,"column":53},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":72,"column":32}},{"generated":{"line":158,"column":59},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":160,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":161,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":162,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":164,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":165,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":166,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":167,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":168,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"name":"msg","generated":{"line":170,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":72,"column":25}},{"name":"msg","generated":{"line":170,"column":26},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":72,"column":25}},{"generated":{"line":170,"column":29},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":171,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":73,"column":10}},{"name":"desMessage","generated":{"line":172,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":16}},{"name":"desMessage","generated":{"line":172,"column":26},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":16}},{"generated":{"line":172,"column":36},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"name":"Message","generated":{"line":172,"column":39},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":29}},{"generated":{"line":172,"column":46},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":36}},{"name":"deserialize","generated":{"line":172,"column":47},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":37}},{"generated":{"line":172,"column":58},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":29}},{"name":"msg","generated":{"line":172,"column":59},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":49}},{"generated":{"line":172,"column":62},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":52}},{"name":"slice","generated":{"line":172,"column":63},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":53}},{"generated":{"line":172,"column":68},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":49}},{"generated":{"line":172,"column":70},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":74,"column":29}},{"generated":{"line":172,"column":71},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":173,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":174,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"name":"handleMessage","generated":{"line":174,"column":54},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":28}},{"generated":{"line":174,"column":67},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":41}},{"name":"peerId","generated":{"line":174,"column":68},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":42}},{"generated":{"line":174,"column":74},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":41}},{"name":"desMessage","generated":{"line":174,"column":76},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":50}},{"generated":{"line":174,"column":86},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":41}},{"generated":{"line":174,"column":87},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":176,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"name":"res","generated":{"line":177,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":16}},{"name":"res","generated":{"line":177,"column":26},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":75,"column":16}},{"generated":{"line":177,"column":29},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":179,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"name":"res","generated":{"line":179,"column":31},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":78,"column":14}},{"generated":{"line":179,"column":34},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":180,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":181,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":182,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":184,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":185,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":79,"column":12}},{"name":"res","generated":{"line":185,"column":33},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":79,"column":18}},{"generated":{"line":185,"column":36},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":79,"column":21}},{"name":"serialize","generated":{"line":185,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":79,"column":22}},{"generated":{"line":185,"column":46},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":79,"column":18}},{"generated":{"line":185,"column":48},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":79,"column":12}},{"generated":{"line":187,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":188,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":189,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":190,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":192,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":193,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":194,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":196,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":197,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":198,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":199,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":200,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":202,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":203,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":204,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":206,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":207,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":208,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":209,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":211,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":212,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":214,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":215,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":217,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":218,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":219,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":220,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":222,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":224,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":225,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":227,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":228,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":230,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":231,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":232,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":233,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":234,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":235,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":236,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":17}},{"generated":{"line":236,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":16}},{"generated":{"line":236,"column":21},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":12}},{"generated":{"line":237,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":71,"column":12}},{"generated":{"line":237,"column":15},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":14}},{"name":"lp","generated":{"line":237,"column":17},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":83,"column":6}},{"generated":{"line":237,"column":19},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":83,"column":8}},{"name":"encode","generated":{"line":237,"column":20},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":83,"column":9}},{"generated":{"line":237,"column":26},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":83,"column":6}},{"generated":{"line":237,"column":28},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":14}},{"name":"stream","generated":{"line":237,"column":30},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":84,"column":6}},{"generated":{"line":237,"column":36},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":84,"column":12}},{"name":"sink","generated":{"line":237,"column":37},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":84,"column":13}},{"generated":{"line":237,"column":41},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":65,"column":14}},{"generated":{"line":237,"column":42},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":239,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":240,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":241,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":242,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":243,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":244,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":245,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":53,"column":2}},{"generated":{"line":245,"column":5},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":246,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":247,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":26}},{"generated":{"line":249,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":88,"column":2}},{"name":"onIncomingStream","generated":{"line":249,"column":9},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":88,"column":9}},{"generated":{"line":249,"column":25},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":88,"column":2}},{"generated":{"line":250,"column":0},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":89,"column":1}},{"generated":{"line":250,"column":1},"source":"../node_modules/libp2p-kad-dht/src/rpc/index.js","original":{"line":18,"column":0}}],"sources":{"../node_modules/libp2p-kad-dht/src/rpc/index.js":"'use strict'\n\nconst { pipe } = require('it-pipe')\nconst lp = require('it-length-prefixed')\n\nconst Message = require('../message')\nconst handlers = require('./handlers')\nconst utils = require('../utils')\n\n/**\n * @typedef {import('peer-id')} PeerId\n * @typedef {import('libp2p-interfaces/src/stream-muxer/types').MuxedStream} MuxedStream\n */\n\n/**\n * @param {import('../index')} dht\n */\nmodule.exports = (dht) => {\n  const log = utils.logger(dht.peerId, 'rpc')\n  const getMessageHandler = handlers(dht)\n\n  /**\n   * Process incoming DHT messages.\n   *\n   * @param {PeerId} peerId\n   * @param {Message} msg\n   */\n  async function handleMessage (peerId, msg) {\n    // get handler & execute it\n    const handler = getMessageHandler(msg.type)\n\n    try {\n      await dht._add(peerId)\n    } catch (err) {\n      log.error('Failed to update the kbucket store', err)\n    }\n\n    if (!handler) {\n      log.error(`no handler found for message type: ${msg.type}`)\n      return\n    }\n\n    return handler(peerId, msg)\n  }\n\n  /**\n   * Handle incoming streams on the dht protocol\n   *\n   * @param {object} props\n   * @param {MuxedStream} props.stream\n   * @param {import('libp2p-interfaces/src/connection').Connection} props.connection\n   */\n  async function onIncomingStream ({ stream, connection }) {\n    const peerId = connection.remotePeer\n\n    try {\n      await dht._add(peerId)\n    } catch (err) {\n      log.error(err)\n    }\n\n    const idB58Str = peerId.toB58String()\n    log('from: %s', idB58Str)\n\n    await pipe(\n      stream.source,\n      lp.decode(),\n      /**\n       * @param {AsyncIterable<Uint8Array>} source\n       */\n      source => (async function * () {\n        for await (const msg of source) {\n          // handle the message\n          const desMessage = Message.deserialize(msg.slice())\n          const res = await handleMessage(peerId, desMessage)\n\n          // Not all handlers will return a response\n          if (res) {\n            yield res.serialize()\n          }\n        }\n      })(),\n      lp.encode(),\n      stream.sink\n    )\n  }\n\n  return onIncomingStream\n}\n"},"lineCount":null}},"error":null,"hash":"6c72ac6f939b864a72b2aed44f195e9f","cacheData":{"env":{}}}